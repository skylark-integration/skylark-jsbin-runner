{"version":3,"sources":["init.js"],"names":["define","runner","utils","sandbox","init","window","onload","postMessage","iframe","document","createElement","setAttribute","body","appendChild","src","name","getElementById","addEvent","handleMessage"],"mappings":";;;;;;;AAAAA,QACE,WACA,UACA,aACA,SAASC,EAAOC,EAAMC,GACpB,aAwCF,OAAOF,EAAOG,KAlCd,WAGEC,OAAOC,OAAS,WAQd,IAAKD,OAAOE,YAAa,CACvB,IAAIC,EAASC,SAASC,cAAc,UAKpC,OAJAF,EAAOG,aAAa,UAAW,4FAC/BH,EAAOG,aAAa,cAAe,KACnCF,SAASG,KAAKC,YAAYL,QAC1BA,EAAOM,IAAMT,OAAOU,MAUtBZ,EAAQC,KAAKK,SAASO,eAAe,oBAErCd,EAAMe,SAASZ,OAAQ,UAAWJ,EAAOiB","file":"../init.js","sourcesContent":["define([\r\n  \"./runner\",\r\n  \"./utils\",\r\n  \"./sandbox\",\r\n],function(runner,utils,sandbox){\r\n    'use strict';\r\n\r\n\r\n  /** =========================================================================\r\n   * JS Bin Runner\r\n   * ========================================================================== */\r\n  function init() {\r\n\r\n\r\n    window.onload = function () {\r\n      // from index.js\r\n\r\n      /**\r\n       * Live rendering, basic mode.\r\n       * Fallback - load the bin into a new iframe, and let it keep itself up\r\n       * to date using event stream.\r\n       */\r\n      if (!window.postMessage) {\r\n        var iframe = document.createElement('iframe');\r\n        iframe.setAttribute('sandbox', 'allow-modals allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts');\r\n        iframe.setAttribute('frameBorder', '0');\r\n        document.body.appendChild(iframe);\r\n        iframe.src = window.name;\r\n        return;\r\n      }\r\n\r\n      /**\r\n       * Live rendering, postMessage style.\r\n       */\r\n\r\n      // Set the sandbox target\r\n      ///sandbox.target = document.getElementById('sandbox-wrapper');\r\n      sandbox.init(document.getElementById('sandbox-wrapper'));\r\n      // Hook into postMessage\r\n      utils.addEvent(window, 'message', runner.handleMessage);\r\n\r\n    };\r\n\r\n  }\r\n\r\n  return runner.init = init;\r\n\r\n});\r\n"]}